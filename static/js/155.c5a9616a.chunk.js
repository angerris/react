"use strict";(self.webpackChunkfirst_app=self.webpackChunkfirst_app||[]).push([[155],{8230:function(s,e,t){t.r(e),t.d(e,{default:function(){return V}});var a=t(1413),n=t(5671),i=t(3144),o=t(136),r=t(7277),l=t(6508),u=t(5705),c=t(184);function d(s){return(0,c.jsx)(u.J9,{initialValues:{post:""},onSubmit:function(){s.addPost()},children:(0,c.jsxs)(u.l0,{className:"addPost",children:[(0,c.jsx)("h3",{children:"Add post"}),(0,c.jsxs)("div",{className:"addPostForm",children:[(0,c.jsx)("input",{placeholder:"Write something...",type:"text",value:s.newPostText,onChange:s.onPostChange,className:"addPostField"}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Publish"})]})]})})}function p(s){return(0,c.jsxs)("div",{className:"myPosts",children:[(0,c.jsx)("h3",{children:"My posts"}),(0,c.jsx)("div",{children:s.post})]})}var f=t(3531),h=t.p+"static/media/profpic.b252d39f96056ff23438.avif",m=t(9806),x=t(1632);function j(s){return(0,c.jsxs)("div",{className:"postView",children:[(0,c.jsxs)("div",{className:"postUserData",children:[s.photo?(0,c.jsx)("img",{src:s.photo,alt:"",srcset:"",width:50,className:"postViewPfp"}):(0,c.jsx)("img",{src:h,alt:"",srcset:"",width:50,className:"postViewPfp"}),(0,c.jsx)("div",{children:"@"+s.fullName})]}),(0,c.jsx)("div",{children:s.message}),(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:"likedData",children:[(0,c.jsx)(m.G,{icon:x.m6i})," ",s.likeCount]})})]})}var v=(0,f.$j)((function(s){return{newPostText:s.profilePage.newPostText,post:s.profilePage.postsData.map((function(e){return(0,c.jsx)(j,{photo:s.profilePage.profile.photos.small,message:e.message,likeCount:e.likeCount,fullName:s.profilePage.profile.fullName})}))}}),(function(s){return{addPost:function(){s((0,l.Wl)())},updatePostText:function(e){s((0,l.Vd)(e))}}}))((function(s){return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"myPostsContainer",children:[(0,c.jsx)(d,(0,a.Z)({addPost:function(){s.addPost()},onPostChange:function(e){var t=e.target.value;s.updatePostText(t)}},s)),(0,c.jsx)(p,(0,a.Z)({},s))]})})})),g=t.p+"static/media/Rectangle 1.d0b8240a3191e8e83a38.png",P={},N=t(9439),T=t(2791);function b(s){var e=s.status,t=s.updateStatus,a=(0,T.useState)(e),n=(0,N.Z)(a,2),i=n[0],o=n[1],r=(0,T.useState)(!1),l=(0,N.Z)(r,2),u=l[0],d=l[1];(0,T.useEffect)((function(){o(e)}),[e]);return(0,c.jsx)("div",{className:"statusContainer",children:u?(0,c.jsx)("input",{className:"status status-field",autoFocus:!0,onBlur:function(){t(i),d(!1)},onChange:function(s){o(s.currentTarget.value)},value:i}):(0,c.jsxs)("span",{className:"status",onDoubleClick:function(){return d(!0)},children:[i||"no status"," "]})})}function k(s){var e=function(e){e.target.files.length&&s.savePhotoThunk(e.target.files[0])},t=s.profile.photos.small;return(0,c.jsx)("div",{className:P.description,children:(0,c.jsxs)("div",{className:"profileTop",children:[(0,c.jsx)("img",{src:g,alt:"",className:"profileBg"}),(0,c.jsx)("div",{children:t?(0,c.jsxs)("div",{className:"pfpContainer",children:[(0,c.jsx)("img",{src:t,alt:"",className:"pfp"}),s.isOwner?(0,c.jsxs)("label",{class:"custom-file-upload",children:[(0,c.jsx)(m.G,{icon:x._jT,className:"cam"}),(0,c.jsx)("input",{className:"changePfp",type:"file",size:30,onChange:function(s){e(s)}})]}):null]}):(0,c.jsxs)("div",{className:"pfpContainer",children:[(0,c.jsx)("img",{src:h,alt:"",className:"pfp"}),s.isOwner?(0,c.jsxs)("label",{class:"custom-file-upload",children:[(0,c.jsx)(m.G,{icon:x._jT,className:"cam"}),(0,c.jsx)("input",{className:"changePfp",type:"file",size:30,onChange:function(s){e(s)}})]}):null]})}),(0,c.jsx)(b,{status:s.status,updateStatus:s.updateStatus}),(0,c.jsx)("div",{className:"fullName",children:"@"+s.profile.fullName})]})})}function C(s){return(0,c.jsxs)("div",{className:"sideInfo",children:[(0,c.jsx)(Z,{aboutMe:s.profile.aboutMe}),(0,c.jsx)(w,{})]})}function Z(s){return(0,c.jsxs)("div",{className:"aboutMe",children:[(0,c.jsx)("h4",{children:"About me"}),s.aboutMe]})}function w(s){return(0,c.jsxs)("div",{className:"contact",children:[(0,c.jsx)(m.G,{icon:x.gbT}),(0,c.jsx)(m.G,{icon:x.gbT}),(0,c.jsx)(m.G,{icon:x.gbT}),(0,c.jsx)(m.G,{icon:x.gbT})]})}function S(s){return(0,c.jsxs)("div",{children:[(0,c.jsx)(k,(0,a.Z)((0,a.Z)({isOwner:s.isOwner},s),{},{updateStatus:s.updateStatusThunk,savePhoto:s.savePhoto})),(0,c.jsxs)("div",{className:"profileContent",children:[(0,c.jsx)(C,(0,a.Z)({},s)),(0,c.jsx)(v,{})]})]})}var y=t(7689);var G=t(1548),D=t(7781),M=t(5578),O=function(s){(0,o.Z)(t,s);var e=(0,r.Z)(t);function t(){var s;return(0,n.Z)(this,t),(s=e.call(this)).refreshProfile=function(){var e=s.props.router.params.profileId;e||(e=29349),s.props.getProfileThunk(e),s.props.getStatusThunk(e)},s.profileState={loading:!0},s}return(0,i.Z)(t,[{key:"componentDidMount",value:function(){this.profileState={loading:!1},this.refreshProfile()}},{key:"componentDidUpdate",value:function(s){this.props.router.params.profileId!==s.router.params.profileId&&this.refreshProfile()}},{key:"render",value:function(){return this.profileState.loading?(0,c.jsx)(M.Z,{}):(0,c.jsx)(S,(0,a.Z)((0,a.Z)({savePhoto:this.savePhotoThunk,isOwner:!this.props.router.params.profileId},this.props),{},{updateStatus:this.updateStatusThunk}))}}]),t}(T.Component);var V=(0,D.qC)((0,f.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status}}),{getProfileThunk:l.VB,setProfile:l.RG,getStatusThunk:l.$b,updateStatusThunk:l.dw,savePhotoThunk:l.zL}),(function(s){return function(e){var t=(0,y.TH)(),n=(0,y.s0)(),i=(0,y.UO)();return(0,c.jsx)(s,(0,a.Z)((0,a.Z)({},e),{},{router:{location:t,navigate:n,params:i}}))}}),G.Z)(O)}}]);
//# sourceMappingURL=155.c5a9616a.chunk.js.map