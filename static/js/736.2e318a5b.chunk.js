"use strict";(self.webpackChunkfirst_app=self.webpackChunkfirst_app||[]).push([[736],{2736:function(t,e,s){s.r(e),s.d(e,{default:function(){return y}});var n=s(1413),r=s(5671),o=s(3144),a=s(136),i=s(7277),u=s(6508),l={},p=s(5241),c=s(184);function d(t){return(0,c.jsxs)("div",{className:l.postWrapper,children:[(0,c.jsx)("img",{src:p,alt:"",srcset:"",width:50}),(0,c.jsx)("div",{className:l.post,children:t.message}),(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:l.like,children:["like ",t.likeCount]})})]})}var f=s(5705),h={MyPosts:"MyPosts_MyPosts__+PDCK"};function x(t){return(0,c.jsx)(f.J9,{initialValues:{post:""},onSubmit:function(){t.addPost()},children:(0,c.jsxs)(f.l0,{children:[(0,c.jsx)("div",{children:"my posts"}),(0,c.jsx)(f.gN,{value:t.newPostText,component:"textarea",name:"post",type:"text",onChange:t.onPostChange,placeholder:"add new post..."}),(0,c.jsx)("button",{type:"submit",children:"add post!"}),(0,c.jsx)("div",{className:h.posts,children:t.postElements})]})})}var m=s(3531),v=(0,m.$j)((function(t){return{newPostText:t.profilePage.newPostText,postElements:t.profilePage.postsData.map((function(t){return(0,c.jsx)(d,{message:t.message,likeCount:t.likeCount})}))}}),(function(t){return{addPost:function(){t((0,u.Wl)())},updatePostText:function(e){t((0,u.Vd)(e))}}}))((function(t){var e=t.newPostText;return(0,c.jsx)(x,(0,n.Z)({onPostChange:function(e){var s=e.target.value;t.updatePostText(s)},addPost:function(){t.addPost()},newPostText:e},t))})),g={img:"ProfileInfo_img__TkNNE"},j=s(9439),P=s(2791);function k(t){var e=t.fullName,s=t.status,n=t.aboutMe,r=t.updateStatus,o=(0,P.useState)(s),a=(0,j.Z)(o,2),i=a[0],u=a[1],l=(0,P.useState)(!1),p=(0,j.Z)(l,2),d=p[0],f=p[1];(0,P.useEffect)((function(){u(s)}),[s]);return(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{children:e}),d?(0,c.jsx)("input",{autoFocus:!0,onBlur:function(){r(i),f(!1)},onChange:function(t){u(t.currentTarget.value)},value:i}):(0,c.jsx)("span",{onDoubleClick:function(){return f(!0)},children:i||"no status"}),(0,c.jsx)("p",{children:n})]})}function T(t){var e=t.profile.photos.small;return(0,c.jsxs)("div",{className:g.description,children:[(0,c.jsx)("img",{src:"https://w0.peakpx.com/wallpaper/223/577/HD-wallpaper-secluded-in-the-woods-hills-forest-house-grass-trees-mist-green-morning-landscape.jpg",alt:"",className:g.img}),(0,c.jsxs)("div",{children:[e?(0,c.jsx)("img",{src:e,alt:""}):(0,c.jsx)("img",{src:p,alt:"",srcset:"",width:100}),(0,c.jsx)("div",{children:t.isOwner?(0,c.jsx)("input",{type:"file",onChange:function(e){!function(e){e.target.files.length&&t.savePhotoThunk(e.target.files[0])}(e)}}):null}),(0,c.jsx)(k,{fullName:t.profile.fullName,status:t.status,aboutMe:t.profile.aboutMe,updateStatus:t.updateStatus})]})]})}function w(t){return(0,c.jsxs)("div",{children:[(0,c.jsx)(T,(0,n.Z)((0,n.Z)({isOwner:t.isOwner},t),{},{updateStatus:t.updateStatusThunk,savePhoto:t.savePhoto})),(0,c.jsx)(v,{})]})}var S=s(7689);var Z=s(1548),C=s(7781),N=s(5578),b=function(t){(0,a.Z)(s,t);var e=(0,i.Z)(s);function s(){var t;return(0,r.Z)(this,s),(t=e.call(this)).refreshProfile=function(){var e=t.props.router.params.profileId;e||(e=29349),t.props.getProfileThunk(e),t.props.getStatusThunk(e)},t.profileState={loading:!0},t}return(0,o.Z)(s,[{key:"componentDidMount",value:function(){this.profileState={loading:!1},this.refreshProfile()}},{key:"componentDidUpdate",value:function(t){this.props.router.params.profileId!==t.router.params.profileId&&this.refreshProfile()}},{key:"render",value:function(){return this.profileState.loading?(0,c.jsx)(N.Z,{}):(0,c.jsx)(w,(0,n.Z)((0,n.Z)({savePhoto:this.savePhotoThunk,isOwner:!this.props.router.params.profileId},this.props),{},{updateStatus:this.updateStatusThunk}))}}]),s}(P.Component);var y=(0,C.qC)((0,m.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status}}),{getProfileThunk:u.VB,setProfile:u.RG,getStatusThunk:u.$b,updateStatusThunk:u.dw,savePhotoThunk:u.zL}),(function(t){return function(e){var s=(0,S.TH)(),r=(0,S.s0)(),o=(0,S.UO)();return(0,c.jsx)(t,(0,n.Z)((0,n.Z)({},e),{},{router:{location:s,navigate:r,params:o}}))}}),Z.Z)(b)}}]);
//# sourceMappingURL=736.2e318a5b.chunk.js.map